# Gulp4-browsersyncWorkWithOpenServer-jsConcatMinify-cssSass-mdMarkdownToHtml

## Включение наблюдения
`gulp watch`

## Browsersync + PHP
Реализовано через локальный сервер `27 строка gulpfile.js`, поднять который можно средствами php, или какой нибудь сборкой типа OpenServer.
Чтобы страничка обновлялась, нужно включить скрипты на странице, если они вдруг заблокированы.
Начальный файл проекта `index.php` находится в корне сайта. Это возможно криво, но ориентировано на обычный хостинг.

## Sass
Обработка sass.
Autoprefix css. пока не работает - не добавляются прификсы хотя все прописано.
Минификация css.

## Markdown to html
Просто Конвертация.

## JS
Конкатенация, сохранение промежуточного варианта в папку merge.
Минификация js.

## Обработка изображений
Два варианта обработки с разным jpeg модулем работают, включен первый так как сжимает лучше.
Сейчас работает следующим образом. При изменении содержимого src/img/ запускается оптимизатор webp изза особенностей переименования разрешения, указан на вход массив путей, содержащих разные окончания, после обработки, происходит переименование, и следом запускается обычный оптимизатор картинок, так сделано чтобы webp не затер стандартные картинки.

[Примеры использования gulp-imagemin.](https://www.npmjs.com/package/gulp-imagemin)
[Пример использованный для Webp](https://www.smashingmagazine.com/2018/07/converting-images-to-webp/)
Другие примеры.
[Примеры использования imagemin.](https://github.com/imagemin/imagemin)
[Примеры использования imagemin-webp.](https://github.com/imagemin/imagemin-webp)


Дополнительно для отображения на гитхабе зависимостей, `package.json` перенесен в корень проекта, а с помощью `.yarnrc` папка node_modules формируется в каталоге `public_html`.
